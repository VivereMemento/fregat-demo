'use strict';

(function () {
	'use strict';

	svg4everybody();

	var t;
	var btnUp = getElement('.btn-up');
	btnUp.addEventListener('click', up);
	function up() {

		var top = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
		console.log(top);

		if (top > 0) {
			window.scrollBy(0, -50);
			t = setTimeout(up, 2);
		} else {
			clearTimeout(t);
		};

		return false;
	}

	function letDemo() {
		var SomeVariable = '10';
		if (true) {
			SomeVariable = "5";
			console.log('in scope:', SomeVariable);
		}
		console.log('out of scope:', SomeVariable);
	}
	letDemo();
})();

function getElement(elem) {
	return document.querySelector(elem);
}

function getAllElements(elem) {
	return document.querySelectorAll(elem);
}
'use strict';

var menu = function () {

	var init = function init() {
		_setUpListners();
	};
	var _setUpListners = function _setUpListners() {
		window.addEventListener('scroll', checkSlide);
		if (window.innerWidth <= 480) {
			window.removeEventListener('scroll', checkSlide);
		}
		menuBtn.addEventListener('click', openMenu);
	};

	var menu = getElement('.menu__inner');
	var menuHeight = menu.clientHeight;
	var menuBtn = getElement('.menu__title');
	var footer = getElement('footer');
	var menuOfSetTop = menu.offsetTop;

	function checkSlide() {

		var footerOffSetTop = footer.offsetTop;

		if (window.scrollY >= menuOfSetTop) {
			menu.classList.add('sticked');
		} else {
			menu.classList.remove('sticked');
		}

		if (window.scrollY + menu.clientHeight >= footerOffSetTop + 15) {
			menu.classList.add('unsticked');
		} else {
			menu.classList.remove('unsticked');
		};
	}

	function openMenu() {
		var menuList = menu.querySelector('.menu__list');
		var menuListHeight = menuList.clientHeight;

		if (menu.clientHeight < menuListHeight) {
			menu.style.height = menuHeight + menuListHeight + 'px';
		} else {
			menu.style.height = menuHeight + 'px';
		}
	}

	return {
		init: init
	};
}();

menu.init();
'use strict';

var search = function () {

	var init = function init() {
		_setUpListners();
	};
	var _setUpListners = function _setUpListners() {
		searchBnt.addEventListener('click', toggleSearch);
	};

	var searchBnt = getElement('#search-btn');
	var searchBlock = getElement('.search');
	var searchWrap = getElement('.search__wrap');

	function toggleSearch() {

		if (searchBlock.style.display === 'block') {
			var transitionEnd = function transitionEnd() {
				searchBlock.style.display = 'none';
				searchWrap.removeEventListener('transitionend', transitionEnd);
			};

			searchWrap.addEventListener('transitionend', transitionEnd);
		} else {
			searchBlock.style.display = 'block';
		}

		setTimeout(function () {
			searchWrap.classList.toggle('opened');
		});
	}

	return {
		init: init
	};
}();

search.init();
'use strict';

var mySlideshow = function () {

	var slides = getAllElements('.slider__item');
	var dotsContainer = getElement('.dots');
	var dots = getAllElements('.dot');
	var slideIndex = 0;

	var init = function init() {
		if (window.innerWidth <= 780) {
			_setUpListners();
		}
	};

	var _setUpListners = function _setUpListners() {
		dotsContainer.addEventListener('click', _currentSlide);
		_showSlides();
		setInterval(_showSlides, 2000); // Change image every 2 seconds
	};

	function _currentSlide(e) {
		var i = 0;

		dots.forEach(function (item, index) {
			if (e.target === item) {
				i = index;
			}
		});

		_showSlides(slideIndex = i);
	}

	function _showSlides() {

		slides.forEach(function (item) {
			item.classList.remove('fade');
			item.style.display = "none";
		});

		dots.forEach(function (item) {
			item.className = item.className.replace(" active fade", "");
		});

		slideIndex++;

		if (slideIndex > slides.length) {
			slideIndex = 1;
		};

		slides[slideIndex - 1].style.display = "flex";
		slides[slideIndex - 1].classList.add('fade');
		dots[slideIndex - 1].className += " active fade";
	}

	return {
		init: init
	};
}();

mySlideshow.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIl9tZW51LmpzIiwiX3NlYXJjaC5qcyIsIl9zbGlkZXIuanMiXSwibmFtZXMiOlsic3ZnNGV2ZXJ5Ym9keSIsInQiLCJidG5VcCIsImdldEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidXAiLCJ0b3AiLCJNYXRoIiwibWF4IiwiZG9jdW1lbnQiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsInNjcm9sbEJ5Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImxldERlbW8iLCJTb21lVmFyaWFibGUiLCJlbGVtIiwicXVlcnlTZWxlY3RvciIsImdldEFsbEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm1lbnUiLCJpbml0IiwiX3NldFVwTGlzdG5lcnMiLCJjaGVja1NsaWRlIiwiaW5uZXJXaWR0aCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtZW51QnRuIiwib3Blbk1lbnUiLCJtZW51SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZm9vdGVyIiwibWVudU9mU2V0VG9wIiwib2Zmc2V0VG9wIiwiZm9vdGVyT2ZmU2V0VG9wIiwic2Nyb2xsWSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1lbnVMaXN0IiwibWVudUxpc3RIZWlnaHQiLCJzdHlsZSIsImhlaWdodCIsInNlYXJjaCIsInNlYXJjaEJudCIsInRvZ2dsZVNlYXJjaCIsInNlYXJjaEJsb2NrIiwic2VhcmNoV3JhcCIsImRpc3BsYXkiLCJ0cmFuc2l0aW9uRW5kIiwidG9nZ2xlIiwibXlTbGlkZXNob3ciLCJzbGlkZXMiLCJkb3RzQ29udGFpbmVyIiwiZG90cyIsInNsaWRlSW5kZXgiLCJfY3VycmVudFNsaWRlIiwiX3Nob3dTbGlkZXMiLCJzZXRJbnRlcnZhbCIsImUiLCJpIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInRhcmdldCIsImNsYXNzTmFtZSIsInJlcGxhY2UiLCJsZW5ndGgiXSwi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LGNBQXZCLEVBQXVDLEVBQXZDLENBQWpCO0FBQ0EsR0FGRDs7QUFJQVg7O0FBRUEsTUFBSUEsYUFBYUgsT0FBT2UsTUFBeEIsRUFBZ0M7QUFBQ1osZ0JBQWEsQ0FBYjtBQUFlOztBQUVoREgsU0FBT0csYUFBVyxDQUFsQixFQUFxQmQsS0FBckIsQ0FBMkJPLE9BQTNCLEdBQXFDLE1BQXJDO0FBQ0FJLFNBQU9HLGFBQVcsQ0FBbEIsRUFBcUJuQixTQUFyQixDQUErQkMsR0FBL0IsQ0FBbUMsTUFBbkM7QUFDQWlCLE9BQUtDLGFBQVcsQ0FBaEIsRUFBbUJVLFNBQW5CLElBQWdDLGNBQWhDO0FBQ0E7O0FBSUQsUUFBTztBQUNMM0MsUUFBTUE7QUFERCxFQUFQO0FBSUEsQ0ExRG1CLEVBQXBCOztBQTREQTZCLFlBQVk3QixJQUFaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG5cdHN2ZzRldmVyeWJvZHkoKTtcclxuXHJcblx0dmFyIHQ7XHJcblx0Y29uc3QgYnRuVXAgPSBnZXRFbGVtZW50KCcuYnRuLXVwJyk7XHJcblx0YnRuVXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1cCk7XHJcblx0ZnVuY3Rpb24gdXAoKSB7XHJcblxyXG5cdFx0bGV0IHRvcCA9IE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApO1xyXG5cdFx0Y29uc29sZS5sb2codG9wKTtcclxuXHJcblx0XHRpZih0b3AgPiAwKSB7XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxCeSgwLCAtNTApO1xyXG5cdFx0XHR0ID0gc2V0VGltZW91dCh1cCwgMik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodClcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gbGV0RGVtbygpe1xyXG5cdFx0dmFyIFNvbWVWYXJpYWJsZSA9ICcxMCc7XHJcblx0XHRpZiggdHJ1ZSApe1xyXG5cdFx0XHRTb21lVmFyaWFibGUgPSBcIjVcIjtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2luIHNjb3BlOicsIFNvbWVWYXJpYWJsZSk7XHJcblx0XHR9XHJcblx0XHRjb25zb2xlLmxvZyggJ291dCBvZiBzY29wZTonLCBTb21lVmFyaWFibGUpO1xyXG5cdH1cclxuXHRsZXREZW1vKClcclxuXHRcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGdldEVsZW1lbnQoZWxlbSkge1xyXG5cdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxFbGVtZW50cyhlbGVtKSB7XHJcblx0cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbSk7XHJcbn1cclxuIiwiY29uc3QgbWVudSA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdF9zZXRVcExpc3RuZXJzKCk7XHJcblx0fTtcclxuXHRjb25zdCBfc2V0VXBMaXN0bmVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja1NsaWRlKTtcclxuXHRcdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA0ODApIHtcclxuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNoZWNrU2xpZGUpO1xyXG5cdFx0fVxyXG5cdFx0bWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5NZW51KTtcclxuXHR9XHRcdFxyXG5cclxuXHRjb25zdCBtZW51ID0gZ2V0RWxlbWVudCgnLm1lbnVfX2lubmVyJyk7XHJcblx0Y29uc3QgbWVudUhlaWdodCA9IG1lbnUuY2xpZW50SGVpZ2h0O1xyXG5cdGNvbnN0IG1lbnVCdG4gPSBnZXRFbGVtZW50KCcubWVudV9fdGl0bGUnKTtcclxuXHRjb25zdCBmb290ZXIgPSBnZXRFbGVtZW50KCdmb290ZXInKTtcclxuXHRsZXQgbWVudU9mU2V0VG9wID0gbWVudS5vZmZzZXRUb3A7XHJcblxyXG5cdGZ1bmN0aW9uIGNoZWNrU2xpZGUoKSB7XHJcblxyXG5cdFx0bGV0IGZvb3Rlck9mZlNldFRvcCA9IGZvb3Rlci5vZmZzZXRUb3A7XHJcblxyXG5cdFx0aWYgKHdpbmRvdy5zY3JvbGxZID49IG1lbnVPZlNldFRvcCkge1xyXG5cdFx0XHRtZW51LmNsYXNzTGlzdC5hZGQoJ3N0aWNrZWQnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2tlZCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgod2luZG93LnNjcm9sbFkgKyBtZW51LmNsaWVudEhlaWdodCkgPj0gZm9vdGVyT2ZmU2V0VG9wICsgMTUpIHtcclxuXHRcdFx0bWVudS5jbGFzc0xpc3QuYWRkKCd1bnN0aWNrZWQnKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWVudS5jbGFzc0xpc3QucmVtb3ZlKCd1bnN0aWNrZWQnKVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG5cdFx0Y29uc3QgbWVudUxpc3QgPSBtZW51LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19saXN0Jyk7XHJcblx0XHRsZXQgbWVudUxpc3RIZWlnaHQgPSBtZW51TGlzdC5jbGllbnRIZWlnaHQ7XHJcblxyXG5cdFx0aWYgKG1lbnUuY2xpZW50SGVpZ2h0IDwgbWVudUxpc3RIZWlnaHQpIHtcclxuXHRcdFx0bWVudS5zdHlsZS5oZWlnaHQgPSBtZW51SGVpZ2h0ICsgbWVudUxpc3RIZWlnaHQgKyAncHgnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWVudS5zdHlsZS5oZWlnaHQgPSBtZW51SGVpZ2h0ICsgJ3B4JztcclxuXHRcdH1cclxuXHR9XHJcblx0XHRcclxuXHRyZXR1cm4ge1xyXG5cdFx0aW5pdDogaW5pdFxyXG5cdH1cclxuXHJcbn0pKCk7XHJcblxyXG5tZW51LmluaXQoKTsiLCJjb25zdCBzZWFyY2ggPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuXHRjb25zdCBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRfc2V0VXBMaXN0bmVycygpO1xyXG5cdH07XHJcblx0Y29uc3QgX3NldFVwTGlzdG5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRzZWFyY2hCbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTZWFyY2gpO1xyXG5cdH1cdFx0XHJcblxyXG5cdGNvbnN0IHNlYXJjaEJudCA9IGdldEVsZW1lbnQoJyNzZWFyY2gtYnRuJyk7XHJcblx0Y29uc3Qgc2VhcmNoQmxvY2sgPSBnZXRFbGVtZW50KCcuc2VhcmNoJyk7XHJcblx0Y29uc3Qgc2VhcmNoV3JhcCA9IGdldEVsZW1lbnQoJy5zZWFyY2hfX3dyYXAnKTtcclxuXHJcblx0ZnVuY3Rpb24gdG9nZ2xlU2VhcmNoKCkge1xyXG5cclxuXHRcdGlmIChzZWFyY2hCbG9jay5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snKSB7XHJcblx0XHRcdHNlYXJjaFdyYXAuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRyYW5zaXRpb25FbmQpO1xyXG5cdFx0XHRmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xyXG5cdFx0XHRcdHNlYXJjaEJsb2NrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0c2VhcmNoV3JhcC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdHJhbnNpdGlvbkVuZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZWFyY2hCbG9jay5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRzZWFyY2hXcmFwLmNsYXNzTGlzdC50b2dnbGUoJ29wZW5lZCcpO1xyXG5cdFx0fSlcclxuXHR9XHJcblx0XHRcclxuXHRyZXR1cm4ge1xyXG5cdFx0aW5pdDogaW5pdFxyXG5cdH1cclxuXHJcbn0pKCk7XHJcblxyXG5zZWFyY2guaW5pdCgpOyIsImNvbnN0IG15U2xpZGVzaG93ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Y29uc3Qgc2xpZGVzID0gZ2V0QWxsRWxlbWVudHMoJy5zbGlkZXJfX2l0ZW0nKTtcclxuXHRjb25zdCBkb3RzQ29udGFpbmVyID0gZ2V0RWxlbWVudCgnLmRvdHMnKTtcclxuXHRjb25zdCBkb3RzID0gZ2V0QWxsRWxlbWVudHMoJy5kb3QnKTtcclxuXHRsZXQgc2xpZGVJbmRleCA9IDA7XHJcblxyXG5cdGNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzgwKSB7XHJcblx0XHRcdF9zZXRVcExpc3RuZXJzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjb25zdCBfc2V0VXBMaXN0bmVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGRvdHNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY3VycmVudFNsaWRlKTtcclxuXHRcdF9zaG93U2xpZGVzKCk7XHJcblx0XHRzZXRJbnRlcnZhbChfc2hvd1NsaWRlcywgMjAwMCk7IC8vIENoYW5nZSBpbWFnZSBldmVyeSAyIHNlY29uZHNcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9jdXJyZW50U2xpZGUoZSkge1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cclxuXHRcdGRvdHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0aWYgKGUudGFyZ2V0ID09PSBpdGVtKSB7XHJcblx0XHRcdFx0aSA9IGluZGV4O1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRfc2hvd1NsaWRlcyhzbGlkZUluZGV4ID0gaSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfc2hvd1NsaWRlcygpIHtcclxuXHJcblx0XHRzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcblx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZmFkZScpO1xyXG5cdFx0XHRpdGVtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0XHRkb3RzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aXRlbS5jbGFzc05hbWUgPSBpdGVtLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGFjdGl2ZSBmYWRlXCIsIFwiXCIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2xpZGVJbmRleCsrO1xyXG5cclxuXHRcdGlmIChzbGlkZUluZGV4ID4gc2xpZGVzLmxlbmd0aCkge3NsaWRlSW5kZXggPSAxfTtcclxuXHJcblx0XHRzbGlkZXNbc2xpZGVJbmRleC0xXS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblx0XHRzbGlkZXNbc2xpZGVJbmRleC0xXS5jbGFzc0xpc3QuYWRkKCdmYWRlJyk7XHJcblx0XHRkb3RzW3NsaWRlSW5kZXgtMV0uY2xhc3NOYW1lICs9IFwiIGFjdGl2ZSBmYWRlXCI7XHJcblx0fVxyXG5cclxuXHRcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdCBpbml0OiBpbml0XHJcblx0fVxyXG5cclxufSkoKTtcclxuXHJcbm15U2xpZGVzaG93LmluaXQoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
